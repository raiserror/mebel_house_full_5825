{% extends "base.html" %}
{% load static %}
{% block title %}Авторизация{% endblock title %}

{% block style_css %}
    <link rel="stylesheet" href="{% static "deps/css/users/login.css" %}">
{% endblock style_css %}

{% block content %}
<div class="auth-container">
    <div class="auth-head mb-4 text-center">
        <h2>Вход в аккаунт</h2>
        <p class="text-muted">Введите свои данные для входа</p>
    </div>
    
    <form action="{% url 'user:login' %}" method="post" class="needs-validation" novalidate>
        {% csrf_token %}
        {% if form.non_field_errors %}
        <p>
            {{ form.non_field_errors }}
        </p>
        {% endif %}
        <!-- Поле username -->
        {% for item in form %}
        <div class="mb-3">
            <label for="{{ item.id_for_label }}" class="form-label">{{ item.label }}</label>
            {{ item }}
        </div>
        {% endfor %}
        
        <!-- Кнопка входа -->
        <button type="submit" class="btn btn-primary btn-auth mb-3">Войти</button>
        
        <div class="d-flex justify-content-between align-items-center mb-4">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="rememberMe">
                <label class="form-check-label" for="rememberMe">Запомнить меня</label>
            </div>
            <a href="#" class="text-decoration-none">Забыли пароль?</a>
        </div>
        
        <div class="auth-footer text-center mb-4">
            Ещё нет аккаунта? <a href="{% url 'users:registration' %}" class="text-decoration-none">Зарегистрируйтесь</a>
        </div>
        
        <div class="social-auth text-center">
            <p class="text-muted mb-3">Или войдите через</p>
            <div class="d-flex justify-content-center gap-3">
                <a href="#" class="social-btn google-btn">
                    <img src="{% static 'deps/icons/google.svg' %}" alt="Google" width="24" height="24">
                </a>
                <a href="https://t.me/raiserror" class="social-btn telegram-btn">
                    <img src="{% static 'deps/icons/telegram.svg' %}" alt="Telegram" width="24" height="24">
                </a>
                <a href="https://github.com/raiserror" class="social-btn github-btn">
                    <img src="{% static 'deps/icons/github.svg' %}" alt="GitHub" width="24" height="24">
                </a>
            </div>
        </div>
    </form>
</div>
{% endblock content %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Анимация элементов при загрузке
        const inputs = document.querySelectorAll('.form-control');
        inputs.forEach((input, index) => {
            input.style.transitionDelay = `${index * 0.1}s`;
        });
        
        // Плавное появление кнопки
        const btn = document.querySelector('.btn-auth');
        btn.style.transitionDelay = `${inputs.length * 0.1 + 0.1}s`;
    });
</script>
{% endblock scripts %}